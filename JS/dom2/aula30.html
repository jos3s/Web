<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="JosÃ© Ulisses">
        <style>
            .done{
                color: #616161;
                text-decoration: line-through;
            }
        </style>
    </head>
    <body>
        <div>
            <input type="text" name="" id="txtAtv">
            <button id="btn">Cadastrar tarefa</button>
            <ul>
                <li>estudar HTML</li>
                <li>estudar CSS</li>
                <li>jogar</li>
            </ul>
        </div>
        <script>
            (function () {
                var $ul=document.querySelector('ul');
                var $lis=$ul.querySelectorAll('li');
                var $txtAtv=document.querySelector('#txtAtv');
                var $btn=document.querySelector('#btn');

                $btn.addEventListener('click', addAtv);
                $txtAtv.addEventListener('keyup', function (e) {
                    /* console.log(e.keycode); */
                    if(e.keyCode==13){
                        addAtv();
                    }
                });

                for (var i = 0; i < $lis.length; i++) {
                    addEvent($lis[i]);
                }

                function addAtv() {
                    /* var atv= "<li>" +$txtAtv.value+"</li>"; */
                    /* $ul.innerHTML+=atv; */
                    var li=document.createElement('li');
                    var text=document.createTextNode($txtAtv.value);
                    li.appendChild(text);
                    $ul.appendChild(li);
                    $txtAtv.value='';
                    $txtAtv.focus();
                    addEvent(li);
                }
                function addEvent(li) {
                    li.addEventListener('click', toggleDone);
                }
                function toggleDone() {
                    this.classList.toggle('done');
                }
            })()
        </script>
    </body>
</html>